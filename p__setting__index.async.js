"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[798],{1754:function(K,E,i){i.r(E),i.d(E,{default:function(){return w}});var D=i(2122),o=i.n(D),I=i(7061),R=i.n(I),b=i(7156),z=i.n(b),M=i(7424),B=i.n(M),C=i(2435),m=i(5681),f=i(9515),U=i(7462),s={setting:"setting___nR6V1","setting-label":"setting-label____GOZJ","setting-mode":"setting-mode___eMv2G","setting-mode-context":"setting-mode-context___aZm7U","setting-mode-sort":"setting-mode-sort___woyXv","setting-defined-list":"setting-defined-list___G9C8m","setting-slider":"setting-slider___BVQp7","setting-defined-btn":"setting-defined-btn___qYxGx","setting-imgs":"setting-imgs___uU3NR","setting-imgs-title":"setting-imgs-title___yyL4o","setting-imgs-notice":"setting-imgs-notice___SYHY5","setting-imgs-clear":"setting-imgs-clear___GZZJy"},e=i(6074);function c(l,r,g){for(var u=0,h=0;h<g;h++)if(l===1)u+=r--;else if(r===1)u+=l--;else if(l===1&&r===1){u++;break}else u+=l--*r--;return u=Math.floor(u/3)*3,u}var Z=["icon-xiaolian1-xianxing","icon-xiaolian3-xianxing","icon-xiaolian2-xianxing","icon-kuqi"];function T(l){var r=l.dispatch,g=l.setting,u=(0,C.useState)(g),h=B()(u,2),n=h[0],x=h[1],Y=(0,C.useState)([]),L=B()(Y,2),$=L[0],H=L[1];(0,C.useEffect)(function(){x(g)},[g]);var J=function(t){r({type:"setting/update",payload:f.GF[t].setting})},V=function(){r({type:"setting/update",payload:n})},O=function(){var a=z()(R()().mark(function t(v){var A,y,j,p,G;return R()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(v.target.files.length===12){d.next=2;break}return d.abrupt("return",alert("\u5FC5\u987B\u4E00\u6B21\u6027\u4F20\u516512\u5F20\u56FE\u7247"));case 2:A=function(Q){return window.FileReader?new Promise(function(X,k){var N=new FileReader;N.readAsDataURL(Q),N.onload=function(F){var S;X((S=F.target)!==null&&S!==void 0&&S.result?F.target.result:"")},N.onerror=function(F){k(F)}}):alert("\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u6B64\u529F\u80FD\uFF0C\u8BF7\u5207\u6362\u6D4F\u89C8\u5668\u8FDB\u884C\u64CD\u4F5C\u3002")},y=v.target.files,j=[],p=0;case 6:if(!(p<y.length)){d.next=14;break}return d.next=9,A(y[p]);case 9:G=d.sent,j.push(G);case 11:p++,d.next=6;break;case 14:H(j),(0,f.t8)("ImgFiles",j);case 16:case"end":return d.stop()}},t)}));return function(v){return a.apply(this,arguments)}}(),P=function(){(0,f.ZH)("ImgFiles"),alert("\u6E05\u9664\u6210\u529F")};return(0,e.jsxs)("div",{className:s.setting,children:[(0,e.jsxs)("div",{className:s["setting-mode"],children:[(0,e.jsxs)("div",{className:s["setting-label"],children:[(0,e.jsx)("i",{className:"iconfont icon-zidingyi"}),"\u6A21\u5F0F\u9009\u62E9"]}),(0,e.jsx)("div",{className:s["setting-mode-context"],children:f.GF.map(function(a,t){return(0,e.jsxs)("span",{className:s["setting-mode-sort"],onClick:function(){return J(t)},children:[(0,e.jsx)("i",{className:"iconfont ".concat(Z[t])}),a.type]},a.type)})})]}),(0,e.jsxs)("div",{className:s["setting-defined"],children:[(0,e.jsxs)("div",{className:s["setting-label"],children:[(0,e.jsx)("i",{className:"iconfont icon-tiaojiemoshi"}),"\u96BE\u5EA6\u8BBE\u7F6E"]}),(0,e.jsxs)("ul",{className:s["setting-defined-list"],children:[(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:s["setting-label"],children:["\u5F53\u524D\u4E2A\u6570: ",(0,e.jsx)("i",{children:n.Sort*3})]}),(0,e.jsx)("div",{className:s["setting-slider"],children:(0,e.jsx)(m.iR,{min:3,max:c(n.Row,n.Col,n.Layers),value:n.Sort*3,onChange:function(t){return x(o()(o()({},n),{},{Sort:t/3}))},step:3})})]}),(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:s["setting-label"],children:["\u5F53\u524D\u5C42\u6570: ",(0,e.jsx)("i",{children:n.Layers})]}),(0,e.jsx)("div",{className:s["setting-slider"],children:(0,e.jsx)(m.iR,{min:1,max:20,value:n.Layers,onChange:function(t){return x(o()(o()({},n),{},{Sort:c(n.Row,n.Col,n.Layers)/3<n.Sort?c(n.Row,n.Col,n.Layers)/3:n.Sort,Layers:t}))},step:1})})]}),(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:s["setting-label"],children:["\u5F53\u524D\u884C\u6570: ",(0,e.jsx)("i",{children:n.Row})]}),(0,e.jsx)("div",{className:s["setting-slider"],children:(0,e.jsx)(m.iR,{min:2,max:300/g.GridSize,value:n.Row,onChange:function(t){return x(o()(o()({},n),{},{Sort:c(t,n.Col,n.Layers)/3<n.Sort?c(t,n.Col,n.Layers)/3:n.Sort,Row:t}))},step:1})})]}),(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:s["setting-label"],children:["\u5F53\u524D\u5217\u6570: ",(0,e.jsx)("i",{children:n.Col})]}),(0,e.jsx)("div",{className:s["setting-slider"],children:(0,e.jsx)(m.iR,{min:2,max:300/g.GridSize,value:n.Col,onChange:function(t){return x(o()(o()({},n),{},{Sort:c(n.Row,t,n.Layers)/3<n.Sort?c(n.Row,t,n.Layers)/3:n.Sort,Col:t}))},step:1})})]})]}),(0,e.jsx)("div",{className:s["setting-defined-btn"],children:(0,e.jsx)(m.zx,{onClick:V,children:"\u4FDD\u5B58\u96BE\u5EA6\u8BBE\u7F6E"})})]}),(0,e.jsxs)("div",{className:s["setting-imgs"],children:[(0,e.jsxs)("div",{className:s["setting-label"],children:[(0,e.jsx)("i",{className:"iconfont icon-tupiantianjia"}),"\u56FE\u7247\u8BBE\u7F6E"]}),(0,e.jsxs)("div",{className:s["setting-imgs-context"],children:[(0,e.jsx)("div",{className:s["setting-imgs-notice"],children:"\u6CE8\u610F:\u5FC5\u987B\u4E00\u6B21\u6027\u4E0A\u4F20\u5341\u4E8C\u5F20\u56FE\u7247,\u53EA\u652F\u6301jpg\u3001jpeg\u3001png\u683C\u5F0F,\u9875\u9762\u5237\u65B0\u540E\u751F\u6548"}),(0,e.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png",multiple:!0,onChange:O}),(0,e.jsx)("div",{children:$.map(function(a){return(0,e.jsx)("img",{src:a,alt:"",width:30,height:30},a)})})]}),(0,e.jsx)("div",{className:s["setting-imgs-clear"],children:(0,e.jsx)(m.zx,{onClick:P,children:"\u6E05\u9664\u56FE\u7247\u8BBE\u7F6E"})})]})]})}var w=(0,U.$j)(function(l){var r=l.setting;return{setting:r}})(T)}}]);
